# Pot-App GPT-SoVITS 语音合成插件

## 插件简介

`pot-app-tts-plugin-gptsovits` 是一个专为 Pot-App 设计的本地化语音合成（TTS）插件，基于先进的 GPT-SoVITS 语音生成模型。此插件允许用户在完全离线的环境下，将文本转换为自然流畅、富有表现力的语音，同时支持多种语言和声音风格的定制。

## 🛠️ 必须的 API 修改

**重要提示**：本插件需要配合修改版的 GPT-SoVITS API 接口文件使用。在使用前，请务必完成以下步骤：

### 安装前提条件

1. **下载修改版 api_v2.py**：
   - 从本项目的 `gpt_sovits_fix/` 目录获取修改版的 `api_v2.py` 文件
2. **替换原始文件**：
   - 将下载的 `api_v2.py` 文件复制到您的 GPT-SoVITS 安装目录
   - 覆盖原始文件：`GPT_SoVITS/api_v2.py`
   - 📝 建议备份原始文件：`cp api_v2.py api_v2.py.bak`
3. **使用修改版 API服务**
   - 从本项目的 `gpt_sovits_fix/` 目录获取修改版的 `GPT-SoVITS-API.bat` 文件
   - 添加到您的 GPT-SoVITS 安装目录
   - 使用 `GPT-SoVITS-API.bat` 启动API服务

### 修改内容说明
此修改版 `api_v2.py` 主要增加了 `/tts_json` 接口，支持：
- Base64 编码的音频数据返回
- 标准化的 JSON 响应格式
- 完善的错误处理机制
- 更好的 Pot-App 兼容性
此修改版 `GPT-SoVITS-API.bat` 主要修改了 `默认绑定地址` ，支持：
- 局域网访问

## 主要特性

- **本地化部署**：所有语音合成过程均在本地完成，无需依赖外部网络服务，保障用户隐私和数据安全
- **高质量语音合成**：基于 GPT-SoVITS 模型，生成接近真人发音的高质量语音输出
- **多语言支持**：支持中、英、日等多种语言的语音合成
- **声音定制**：允许用户训练和使用自定义声音模型，创造独特的语音体验
- **易于集成**：完全兼容 Pot-App 插件系统，安装简单，配置灵活

## 安装与使用

1. **完成上述 API 修改**（必须步骤）
2. 从本仓库的 Releases 页面下载最新的 `.potext` 插件文件
3. 在 Pot-App 中导入插件并完成基本配置
4. 配置本地 GPT-SoVITS 服务地址和模型参数
5. 开始使用高质量的本地语音合成服务

## 技术实现

本插件严格遵循 Pot-App 语音合成插件的开发规范：

- **插件标识符**：`plugin.com.pot-app.gptsovits`
- **配置文件**：完整的 `info.json` 配置，包含所有必要的依赖项和语言映射
- **核心函数**：实现了标准的 `tts` 异步函数，处理文本到语音的转换流程
- **工具集成**：充分利用 Pot-App 提供的工具集（HTTP 请求、文件操作、加密功能等）

## 开源贡献

我们欢迎开发者参与本插件的改进和功能扩展。请遵循 Pot-App 插件开发规范，确保代码质量和兼容性。

通过这个 GPT-SoVITS-TTS 插件，Pot-App 用户现在可以享受到企业级质量的本地语音合成服务，无需担心隐私泄露或网络依赖问题。

### 鸣谢

特别感谢以下项目与开发者的贡献：  
- **GPT-SoVITS**（ https://github.com/RVC-Boss/GPT-SoVITS ）：感谢其开源的高质量少样本语音克隆项目，为本地化语音合成技术提供了强大支持。
- **Pot**（ https://github.com/pot-app/pot-desktop ）：感谢其优秀的跨平台划词翻译与OCR框架，以及开放的插件系统，使得本插件能够顺利集成并服务于用户。

---

**注意**：本插件提供的 `api_v2.py` 修改文件基于 GPT-SoVITS 项目源代码衍生修改，依据原项目许可证要求保留原始版权信息。